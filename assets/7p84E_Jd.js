import{x as M,L as E,M as ne,N as oe,O as re,H as y,Q as H,R as V,S as O,T as j,U as se,d as ae,u as ce,B as $,J as L,o as T,G as U,z as w,_ as ie,E as ue,p as R,P as le,K as I,V as pe,y as de,m as q,l as F,n as k,v as fe,q as me}from"./C7DR76jg.js";import{p as x,k as G,t as ge,c as ve}from"./DmqgqG2_.js";import{f as _e,h as be}from"./CV4Hssdo.js";import{f as K,n as ye}from"./BN_7HF1G.js";import{u as he}from"./DU_BTqHw.js";import"./CAzx5tJI.js";import"./DuAV58dt.js";const D=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]);function Pe(e,n){return n.reduce((t,r)=>{const o=Ce(e,r);return o!==void 0&&(t[r]=o),t},{})}function Ce(e,n){return n.split(".").reduce((t,r)=>t&&t[r],e)}const B="default",W=/^@|^v-on:/,z=/^:|^v-bind:/,xe=/^v-model/,Te=["select","textarea","input"],we=new Set(["math","svg"]),J=new Set,je=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),Se=["script","base"],Oe=M({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(e){const t=ne()?.appContext?.app?.$nuxt,r=t?.$route||t?._route,{mdc:o}=t?.$config?.public||{},s=o?.components?.customElements||o?.components?.custom;s&&s.forEach(c=>J.add(c));const u=y(()=>({...o?.components?.prose&&e.prose!==!1?je:{},...o?.components?.map||{},...H(e.data?.mdc?.components||{}),...e.components})),p=y(()=>{const c=(e.body?.children||[]).map(d=>d.tag||d.type).filter(d=>!A(d));return Array.from(new Set(c)).sort().join(".")}),l=oe({...e.data});re(()=>e.data,c=>{Object.assign(l,c)}),await ke(e.body,{tags:u.value});function i(c,d){const v=c.split(".").length-1;return c.split(".").reduce((g,h,C)=>C==v&&g?(g[h]=d,g[h]):typeof g=="object"?g[h]:void 0,l)}return{tags:u,contentKey:p,route:r,runtimeData:l,updateRuntimeData:i}},render(e){const{tags:n,tag:t,body:r,data:o,contentKey:s,route:u,unwrap:p,runtimeData:l,updateRuntimeData:i}=e;if(!r)return null;const c={...o,tags:n,$route:u,runtimeData:l,updateRuntimeData:i},d=t!==!1?N(t||c.component?.name||c.component||"div"):void 0;return d?E(d,{...c.component?.props,class:e.class,...this.$attrs,key:s},{default:v}):v?.();function v(){const g=Q(r,E,{documentMeta:c,parentScope:c,resolveComponent:N});return g?.default?p?K(g.default(),typeof p=="string"?p.split(" "):["*"]):g.default():null}}});function Re(e,n,t,r){const{documentMeta:o,parentScope:s,resolveComponent:u}=t;if(e.type==="text")return n(j,e.value);if(e.type==="comment")return n(se,null,e.value);const p=e.tag,l=Y(e,o.tags);if(e.tag==="binding")return De(e,n,o,s);const i=X(l)?v=>v:u;if(Se.includes(l))return n("pre",{class:"mdc-renderer-dangerous-tag"},"<"+l+">"+ye(e)+"</"+l+">");const c=i(l);typeof c=="object"&&(c.tag=p);const d=Be(e,o);return r&&(d.key=r),n(c,d,Q(e,n,{documentMeta:o,parentScope:{...s,...d},resolveComponent:i}))}function Q(e,n,t){const{documentMeta:r,parentScope:o,resolveComponent:s}=t,p=(e.children||[]).reduce((i,c)=>{if(!qe(c))return i[B].children.push(c),i;const d=Ie(c);return i[d]=i[d]||{props:{},children:[]},c.type==="element"&&(i[d].props=c.props,i[d].children.push(...c.children||[])),i},{[B]:{props:{},children:[]}});return Object.entries(p).reduce((i,[c,{props:d,children:v}])=>(v.length&&(i[c]=(g={})=>{const h=Pe(g,Object.keys(d||{}));let C=v.map((a,f)=>Re(a,n,{documentMeta:r,parentScope:{...o,...h},resolveComponent:s},String(a.props?.key||f)));return d?.unwrap&&(C=K(C,d.unwrap)),Fe(C)}),i),{})}function De(e,n,t,r={}){const o={...t.runtimeData,...r,$document:t,$doc:t},s=/\.|\[(\d+)\]/,p=(e.props?.value.trim().split(s).filter(Boolean)).reduce((i,c)=>{if(i&&c in i)return typeof i[c]=="function"?i[c]():i[c]},o),l=e.props?.defaultValue;return n(j,p??l??"")}function Be(e,n){const{tag:t="",props:r={}}=e;return Object.keys(r).reduce(function(o,s){if(s==="__ignoreMap")return o;const u=r[s];if(xe.test(s))return Ne(s,u,o,n,{native:Te.includes(t)});if(s==="v-bind")return $e(s,u,o,n);if(W.test(s))return Ae(s,u,o,n);if(z.test(s))return Ee(s,u,o,n);const{attribute:p}=_e(be,s);return Array.isArray(u)&&u.every(l=>typeof l=="string")?(o[p]=u.join(" "),o):(o[p]=u,o)},{})}function Ne(e,n,t,r,{native:o}){const s=e.match(/^v-model:([^=]+)/)?.[1]||"modelValue",u=o?"value":s,p=o?"onInput":`onUpdate:${s}`;return t[u]=S(n,r.runtimeData),t[p]=l=>{r.updateRuntimeData(n,o?l.target?.value:l)},t}function $e(e,n,t,r){const o=S(n,r);return t=Object.assign(t,o),t}function Ae(e,n,t,r){return e=e.replace(W,""),t.on=t.on||{},t.on[e]=()=>S(n,r),t}function Ee(e,n,t,r){return e=e.replace(z,""),t[e]=S(n,r),t}const N=e=>{if(typeof e=="string"){if(A(e))return e;const n=V(x(e),!1);return!e||n?.name==="AsyncComponentWrapper"||typeof n=="string"?n:"setup"in n?O(()=>new Promise(t=>t(n))):n}return e};function S(e,n){const t=e.split(".").reduce((r,o)=>typeof r=="object"?r[o]:void 0,n);return typeof t>"u"?ae(e):t}function Ie(e){let n="";for(const t of Object.keys(e.props||{}))if(!(!t.startsWith("#")&&!t.startsWith("v-slot:"))){n=t.split(/[:#]/,2)[1];break}return n||B}function qe(e){return e.tag==="template"}function X(e){return we.has(e)}function Fe(e){const n=[];for(const t of e){const r=n[n.length-1];t.type===j&&r?.type===j?r.children=r.children+t.children:n.push(t)}return n}async function ke(e,n){if(!e)return;const t=Array.from(new Set(r(e,n)));await Promise.all(t.map(async o=>{if(o?.render||o?.ssrRender||o?.__ssrInlineRender)return;const s=N(o);s?.__asyncLoader&&!s.__asyncResolved&&await s.__asyncLoader()}));function r(o,s){const u=o.tag;if(o.type==="text"||u==="binding"||o.type==="comment")return[];const p=Y(o,s.tags);if(X(p))return[];const l=[];o.type!=="root"&&!A(p)&&l.push(p);for(const i of o.children||[])l.push(...r(i,s));return l}}function Y(e,n){const t=e.tag;return!t||typeof e.props?.__ignoreMap<"u"?t:n[t]||n[x(t)]||n[G(e.tag)]||t}function A(e){return(typeof e=="string"?J.has(e):!1)||D.has(e)}const Me=Object.assign(Oe,{__name:"MDCRenderer"}),Z=["ProseA","ProseAccordion","ProseAccordionItem","ProseBadge","ProseBlockquote","ProseCallout","ProseCard","ProseCardGroup","ProseCode","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseEm","ProseField","ProseFieldGroup","ProseH1","ProseH2","ProseH3","ProseH4","ProseHr","ProseIcon","ProseImg","ProseKbd","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseSteps","ProseStrong","ProseTable","ProseTabs","ProseTabsItem","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseCaution","ProseNote","ProseTip","ProseWarning","ProseH5","ProseH6","Icon"],ee=[],He=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:Z,localComponents:ee},Symbol.toStringTag,{value:"Module"})),Ve={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(e){const n=["render","ssrRender","__ssrInlineRender"],t=e,r=!0,o=y(()=>{let a=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(a=t.value.excerpt),a.type==="minimal"||a.type==="minimark"?ge({value:a.value}):a}),s=y(()=>!o.value?.children?.length),u=y(()=>{const{body:a,excerpt:f,...m}=t.value;return{...m,...t.data}}),p=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(a=>[a,`prose-${a}`])),{mdc:l}=ce().public||{},i=y(()=>t.data.mdc),c=y(()=>({...l?.components?.prose&&t.prose!==!1?p:{},...l?.components?.map||{},...H(i.value?.components||{}),...t.components})),d=y(()=>o.value?g(o.value,{tags:c.value}):{});function v(a){let f=a;if(typeof a=="string"){if(D.has(a))return a;if(Z.includes(x(a))?f=V(a,!1):ee.includes(x(a))&&(f=O(()=>ie(()=>Promise.resolve().then(()=>He),void 0,import.meta.url).then(_=>{const b=_[x(a)];return b?b():void 0}))),typeof f=="string")return f}if(!f)return f;const m=f;return"__asyncLoader"in m?m:"setup"in m?O(()=>Promise.resolve(m)):m}function g(a,f){if(!a)return;const m=Array.from(new Set(h(a,f))),P={};for(const[_,b]of m)if(!P[_]){if(typeof b=="object"&&n.some(te=>Object.hasOwnProperty.call(b,te))){P[_]=b;continue}P[_]=v(b)}return P}function h(a,f){const m=a.tag;if(a.type==="text"||m==="binding"||a.type==="comment")return[];const P=C(a,f.tags),_=[];a.type!=="root"&&!D.has(P)&&_.push([m,P]);for(const b of a.children||[])_.push(...h(b,f));return _}function C(a,f){const m=a.tag;return!m||typeof a.props?.__ignoreMap<"u"?m:f[m]||f[x(m)]||f[G(a.tag)]||m}return(a,f)=>s.value?L(a.$slots,"empty",{key:1,body:o.value,data:u.value,dataContentId:w(r)?e.value.id:void 0}):(T(),$(Me,{key:0,body:o.value,data:u.value,class:U(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:d.value,"data-content-id":w(r)?e.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Le=Object.assign(Ve,{__name:"ContentRenderer"}),Ue={base:"w-full max-w-(--ui-container) mx-auto px-4 sm:px-6 lg:px-8"},Ge={__name:"UContainer",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const n=e,t=ue(),r=y(()=>I({extend:I(Ue),...t.ui?.container||{}}));return(o,s)=>(T(),$(w(le),{as:e.as,class:U(r.value({class:n.class}))},{default:R(()=>[L(o.$slots,"default")]),_:3},8,["as","class"]))}},Ke={class:"mb-4"},We={key:0,class:"prose dark:prose-invert max-w-none"},ze={key:1},nt=M({__name:"[...slug]",async setup(e){let n,t;const r=pe(),{data:o}=([n,t]=de(()=>he(r.path,()=>ve("blog").path(r.path).first(),"$DquttgHoet")),n=await n,t(),n);return console.log(o.value),(s,u)=>{const p=fe,l=Le,i=Ge;return T(),$(i,{class:"py-12"},{default:R(()=>[q("div",Ke,[k(p,{to:"/blog",class:"text-primary-500 hover:text-primary-600 flex items-center gap-1"},{default:R(()=>[...u[0]||(u[0]=[me(" ‚Üê Back to Blog ",-1)])]),_:1})]),w(o)?(T(),F("article",We,[k(l,{value:w(o)},null,8,["value"])])):(T(),F("div",ze,[...u[1]||(u[1]=[q("h1",null,"Document not found",-1)])]))]),_:1})}}});export{nt as default};
